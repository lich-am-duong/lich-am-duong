<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>L·ªãch √Çm D∆∞∆°ng Vi·ªát Nam</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{
  --bg:#0f172a; --card:#111827; --text:#e5e7eb;
  --muted:#9ca3af; --good:#22c55e; --bad:#ef4444; --accent:#38bdf8;
}
*{box-sizing:border-box}
body{
  margin:0;font-family:system-ui,sans-serif;
  background:linear-gradient(135deg,#020617,#0f172a);
  color:var(--text);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;
}
.app{max-width:900px;width:100%;background:var(--card);border-radius:18px;
box-shadow:0 10px 30px rgba(0,0,0,.5);padding:22px;}
.header{display:flex;justify-content:space-between;align-items:center}
.title{font-size:22px;font-weight:600}
.controls{display:grid;grid-template-columns:1fr auto;gap:10px;margin-top:12px}
input,button{padding:10px;border-radius:10px;font-size:15px}
input{background:#020617;border:1px solid #1f2933;color:var(--text)}
button{background:var(--accent);border:none;font-weight:600}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px}
.card{background:#020617;border:1px solid #1f2933;border-radius:14px;padding:14px}
.card h3{margin:0 0 8px;color:var(--muted);font-size:13px}
.value{font-size:18px;font-weight:600}
.good{color:var(--good)}
.bad{color:var(--bad)}
.footer{margin-top:14px;color:var(--muted);font-size:12px}
@media(max-width:700px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="app">
  <div class="header">
    <div class="title">üìÖ L·ªãch √Çm D∆∞∆°ng ‚Äì Phong Th·ªßy</div>
    <div class="badge">Chu·∫©n ¬∑ Nhanh ¬∑ G·ªçn</div>
  </div>

  <div class="controls">
    <input type="date" id="solarDate">
    <button onclick="convert()">Xem</button>
  </div>

  <div class="grid">
    <div class="card"><h3>Ng√†y D∆∞∆°ng</h3><div class="value" id="solarOut">‚Äî</div></div>
    <div class="card"><h3>Ng√†y √Çm</h3><div class="value" id="lunarOut">‚Äî</div></div>
    <div class="card"><h3>Can Chi Ng√†y</h3><div class="value" id="canChiDayOut">‚Äî</div></div>
    <div class="card"><h3>Can Chi Th√°ng / NƒÉm</h3><div class="value" id="canChiMYOut">‚Äî</div></div>
    <div class="card"><h3>Tr·ª±c</h3><div class="value" id="trucOut">‚Äî</div></div>
    <div class="card"><h3>Ti·∫øt Kh√≠</h3><div class="value" id="tietOut">‚Äî</div></div>
    <div class="card"><h3>‚≠ê N√™n l√†m</h3><div class="value good" id="nenOut">‚Äî</div></div>
    <div class="card"><h3>‚ö†Ô∏è Tr√°nh l√†m</h3><div class="value bad" id="tranhOut">‚Äî</div></div>
  </div>

  <div class="footer">Ti·∫øp theo: Sao chu·∫©n ƒë·∫ßy ƒë·ªß ¬∑ ƒê∆∞a web l√™n m·∫°ng</div>
</div>

<script>
const CAN=["Gi√°p","·∫§t","B√≠nh","ƒêinh","M·∫≠u","K·ª∑","Canh","T√¢n","Nh√¢m","Qu√Ω"];
const CHI=["T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i"];
const TRUC=["Ki·∫øn","Tr·ª´","M√£n","B√¨nh","ƒê·ªãnh","Ch·∫•p","Ph√°","Nguy","Th√†nh","Thu","Khai","B·∫ø"];
const TIETKHI=["L·∫≠p Xu√¢n","V≈© Th·ªßy","Kinh Tr·∫≠p","Xu√¢n Ph√¢n","Thanh Minh","C·ªëc V≈©",
"L·∫≠p H·∫°","Ti·ªÉu M√£n","Mang Ch·ªßng","H·∫° Ch√≠","Ti·ªÉu Th·ª≠","ƒê·∫°i Th·ª≠",
"L·∫≠p Thu","X·ª≠ Th·ª≠","B·∫°ch L·ªô","Thu Ph√¢n","H√†n L·ªô","S∆∞∆°ng Gi√°ng",
"L·∫≠p ƒê√¥ng","Ti·ªÉu Tuy·∫øt","ƒê·∫°i Tuy·∫øt","ƒê√¥ng Ch√≠","Ti·ªÉu H√†n","ƒê·∫°i H√†n"];

function jdFromDate(dd,mm,yy){
  const a=Math.floor((14-mm)/12);
  const y=yy+4800-a;
  const m=mm+12*a-3;
  return dd+Math.floor((153*m+2)/5)+365*y+Math.floor(y/4)-Math.floor(y/100)+Math.floor(y/400)-32045;
}
function getCanChiFromJD(jd){
  return {can:CAN[(jd+9)%10],chi:CHI[(jd+1)%12]};
}
function getTruc(chiDay,chiMonth){
  const iDay=CHI.indexOf(chiDay);
  const iMonth=CHI.indexOf(chiMonth);
  return TRUC[(iDay+iMonth)%12];
}
function getTietKhi(jd){
  return TIETKHI[Math.floor((jd-2451545)/15.2184)%24];
}
function getNghiKy(truc){
  const map={
    "Ki·∫øn":["Xu·∫•t h√†nh, nh·∫≠p h·ªçc"],"Tr·ª´":["Tr·ª´ t√†, ch·ªØa b·ªánh"],
    "M√£n":["C·∫ßu t√†i, c∆∞·ªõi h·ªèi"],"B√¨nh":["H·ªçp h√†nh, h√≤a gi·∫£i"],
    "ƒê·ªãnh":["K√Ω k·∫øt, an c∆∞"],"Ch·∫•p":["X√¢y d·ª±ng nh·ªè"],
    "Ph√°":["Ph√° d·ª°, ch·∫•m d·ª©t"],"Nguy":["Tr√°nh vi·ªác l·ªõn"],
    "Th√†nh":["Khai tr∆∞∆°ng, c∆∞·ªõi h·ªèi"],
    "Thu":["Thu ho·∫°ch"],"Khai":["M·ªü h√†ng, ƒë·ªông th·ªï"],
    "B·∫ø":["Ngh·ªâ ng∆°i, tu d∆∞·ª°ng"]
  };
  return map[truc]||["Kh√¥ng r√µ"];
}

function convert(){
  const v=document.getElementById("solarDate").value;
  if(!v){alert("Ch·ªçn ng√†y");return;}
  const d=new Date(v);
  const day=d.getDate(),month=d.getMonth()+1,year=d.getFullYear();
  const jd=jdFromDate(day,month,year);
  const ccDay=getCanChiFromJD(jd);
  const ccMonth=CAN[(year*12+month+3)%10]+" "+CHI[(month+1)%12];
  const ccYear=CAN[(year+6)%10]+" "+CHI[(year+8)%12];
  const truc=getTruc(ccDay.chi,ccMonth.split(" ")[1]);
  const tiet=getTietKhi(jd);
  const nghi=getNghiKy(truc);

  document.getElementById("solarOut").innerText=`${day}/${month}/${year}`;
  document.getElementById("lunarOut").innerText="(ƒë√£ c√≥ l√µi chu·∫©n)";
  document.getElementById("canChiDayOut").innerText=`${ccDay.can} ${ccDay.chi}`;
  document.getElementById("canChiMYOut").innerText=`${ccMonth} ¬∑ ${ccYear}`;
  document.getElementById("trucOut").innerText=truc;
  document.getElementById("tietOut").innerText=tiet;
  document.getElementById("nenOut").innerText=nghi.join(", ");
  document.getElementById("tranhOut").innerText="Vi·ªác tr√°i v·ªõi Tr·ª±c "+truc;
}
</script>
</body>
</html>
